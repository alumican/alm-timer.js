/*! alm-timer.js 1.0.0 (c) 2022 alumican, licensed under the MIT, more information https://github.com/alumican/alm-timer.js */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("alm")):"function"==typeof define&&define.amd?define(["exports","alm"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).alm=t.alm||{},t.alm)}(this,(function(t,e){"use strict";var i;t.TimerEventType=void 0,(i=t.TimerEventType||(t.TimerEventType={})).tick="tick",i.complete="complete";class s extends CustomEvent{constructor(t,e){super(t,e)}}class n extends EventTarget{constructor(i=1e3,s=0){super(),this.timerHandler=()=>{this.tStartTime=e.DateUtil.now(),++this.elapsedCount;let i=!1;this.repeatCount>0&&this.elapsedCount>=this.repeatCount?(i=!0,this.stop()):this.tInterval!==this.interval&&this.startInterval(this.interval),this.dispatch(t.TimerEventType.tick),i&&this.dispatch(t.TimerEventType.complete)},this.interval=i,this.repeatCount=s,this.isRunning=!1,this.tId=-1,this.reset(),e.DateUtil.now()}start(){this.isRunning||(this.isRunning=!0,this.tStartTime=e.DateUtil.now(),this.startInterval(-1!==this.tRestTime?this.tRestTime:this.interval))}stop(){this.isRunning&&(this.isRunning=!1,this.tRestTime=e.DateUtil.now()-this.tStartTime,this.stopInterval())}reset(){this.stop(),this.elapsedCount=0,this.tRestTime=-1}restart(){this.reset(),this.start()}startInterval(t){this.stopInterval(),this.tInterval=t,this.tId=window.setInterval(this.timerHandler,this.tInterval)}stopInterval(){-1!==this.tId&&(clearInterval(this.tId),this.tId=-1)}dispatch(t){this.dispatchEvent(new s(t,{detail:{elapsedCount:this.elapsedCount,repeatCount:this.repeatCount,restCount:this.getRestCount()}}))}getIsRunning(){return this.isRunning}getInterval(){return this.interval}setInterval(t){this.interval=t}getElapsedTime(){return e.DateUtil.now()-this.tStartTime}getRestTime(){return this.interval-this.getElapsedTime()}getElapsedCount(){return this.elapsedCount}getRepeatCount(){return this.repeatCount}setRepeatCount(t){this.repeatCount=t}getRestCount(){return this.repeatCount-this.elapsedCount}}t.Timer=n,t.TimerEvent=s,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=index.min.js.map
